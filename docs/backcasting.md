# Backcasting

Backcasting involves simulating what would have happened, had optimised forecasts been running.  It assumes the deliveries took place as the system recommended and calculates:

* The amount of `revenue` that would have been generated
* The amount of `cost` incurred
* The profit (defined as `revenue` - `cost`) that would have been generated

It allows users to see for themselves how much they could have saved, compared to the historical levels of wastage, which the user can dictate.

Importantly, this allows users to accurately estimate the Return on Investment (RoI) of implementing this service in minutes.

## Pre-Requisites

* Sign up for a free account on WasteNot
* Located the account's API key in the "Subscription" navigation tab


## Running a Backcast

To generate a backcast, attach the inputs to the POST query and send a request to the API URL.

	https://api.bluedotthinking.com/backcast

The request has a number of required parameters - some are required, and some are optional.

### Authorization

* `access_token` - string representing your API key, found in "subscription" tab within the WasteNot navigation after sign-in.  Must be set in headers to authorize runs against your account. 

### Required Inputs

* `timestamp` - an array of timestamps  in ISO-8601 format, indicating the start of the period.  This is historical data, used to generate the forecast.
* `demand` - an array of integers, matched to the number of timestamps.  This is historical data, used to generate the forecast.
* `sale_price` - the amount in local currency that one unit generates in terms of revenue
* `cost` - the amount in local currency that one unit costs to supply
* `shelf_life_seconds` - the shelf life of each item from the time it is delivered, in seconds
* `opt_param` - the optimisation parameter - this can be either `profit` or `revenue`
* `forecast_periods_ahead` - the number of periods to forecast ahead - e.g. set this to 7 if the data is daily, and you wish to forecast 7 days ahead.
* `delivery_dayofweek` - the days of the week on which a delivery will take place.  Starting with Monday = 0, ending with Sunday = 6.
* `n_training_periods` - the number of periods from the beginning of the dataset to use for training - the simulation will take place immediately following the training period.  E.g. setting this to be **100** will use the first 100 days of the historical data to train the algorithm.
* `n_forecasts_simulated` - the number of forecasts to be simulated - e.g. setting this to equal **4** allows us to see what would have happened if we had carried out forecasts over 4 consecutive weeks


### Optional Inputs

* `historical_waste_fraction_of_delivered` - the fraction of delivered units that had been wasted, over the simulation period.  Defaults to industry-average of 20%.
* `public_holiday_country` - a string representing the country from which the public holidays.
* `event_datetime` - Define the (starting) datetimes of the custom events to be included in the backcast.
* `event_name` - Define the names of the custom events to be included in the backcast.  Naming events consistently allow them to be re-used.
	

### Constructing a Request

First, a basic example to get us started - we will use the minimum required inputs, optimising for profit:

Here, we're using a number parameters that include:

* Around 1 year's worth of daily demand data
* The backcast uses the first 100 datapoints for training only.
* Generates a forecast every 7 days, covering the following 7 days
* The backcast will repeat this 20 times - i.e. it will simulate the performance over 140 days.
* A delivery is assumed to have been made every day of the week
* For a product that has a shelf-life of 2 days, costs $1, and can be sold for $5
* Optimising for maximum revenue


###Example Request

	{
		"timestamp": ["2017-05-24T00:00:00", "2017-05-25T00:00:00", "2017-05-26T00:00:00", "2017-05-27T00:00:00", "2017-05-28T00:00:00", "2017-05-29T00:00:00", "2017-05-30T00:00:00", "2017-05-31T00:00:00", "2017-06-01T00:00:00", "2017-06-02T00:00:00", "2017-06-03T00:00:00", "2017-06-04T00:00:00", "2017-06-05T00:00:00", "2017-06-06T00:00:00", "2017-06-07T00:00:00", "2017-06-08T00:00:00", "2017-06-09T00:00:00", "2017-06-10T00:00:00", "2017-06-11T00:00:00", "2017-06-12T00:00:00", "2017-06-13T00:00:00", "2017-06-14T00:00:00", "2017-06-15T00:00:00", "2017-06-16T00:00:00", "2017-06-17T00:00:00", "2017-06-18T00:00:00", "2017-06-19T00:00:00", "2017-06-20T00:00:00", "2017-06-21T00:00:00", "2017-06-22T00:00:00", "2017-06-23T00:00:00", "2017-06-24T00:00:00", "2017-06-25T00:00:00", "2017-06-26T00:00:00", "2017-06-27T00:00:00", "2017-06-28T00:00:00", "2017-06-29T00:00:00", "2017-06-30T00:00:00", "2017-07-01T00:00:00", "2017-07-02T00:00:00", "2017-07-03T00:00:00", "2017-07-04T00:00:00", "2017-07-05T00:00:00", "2017-07-06T00:00:00", "2017-07-07T00:00:00", "2017-07-08T00:00:00", "2017-07-09T00:00:00", "2017-07-10T00:00:00", "2017-07-11T00:00:00", "2017-07-12T00:00:00", "2017-07-13T00:00:00", "2017-07-14T00:00:00", "2017-07-15T00:00:00", "2017-07-16T00:00:00", "2017-07-17T00:00:00", "2017-07-18T00:00:00", "2017-07-19T00:00:00", "2017-07-20T00:00:00", "2017-07-21T00:00:00", "2017-07-22T00:00:00", "2017-07-23T00:00:00", "2017-07-24T00:00:00", "2017-07-25T00:00:00", "2017-07-26T00:00:00", "2017-07-27T00:00:00", "2017-07-28T00:00:00", "2017-07-29T00:00:00", "2017-07-30T00:00:00", "2017-07-31T00:00:00", "2017-08-01T00:00:00", "2017-08-02T00:00:00", "2017-08-03T00:00:00", "2017-08-04T00:00:00", "2017-08-05T00:00:00", "2017-08-06T00:00:00", "2017-08-07T00:00:00", "2017-08-08T00:00:00", "2017-08-09T00:00:00", "2017-08-10T00:00:00", "2017-08-11T00:00:00", "2017-08-12T00:00:00", "2017-08-13T00:00:00", "2017-08-14T00:00:00", "2017-08-15T00:00:00", "2017-08-16T00:00:00", "2017-08-17T00:00:00", "2017-08-18T00:00:00", "2017-08-19T00:00:00", "2017-08-20T00:00:00", "2017-08-21T00:00:00", "2017-08-22T00:00:00", "2017-08-23T00:00:00", "2017-08-24T00:00:00", "2017-08-25T00:00:00", "2017-08-26T00:00:00", "2017-08-27T00:00:00", "2017-08-28T00:00:00", "2017-08-29T00:00:00", "2017-08-30T00:00:00", "2017-08-31T00:00:00", "2017-09-01T00:00:00", "2017-09-02T00:00:00", "2017-09-03T00:00:00", "2017-09-04T00:00:00", "2017-09-05T00:00:00", "2017-09-06T00:00:00", "2017-09-07T00:00:00", "2017-09-08T00:00:00", "2017-09-09T00:00:00", "2017-09-10T00:00:00", "2017-09-11T00:00:00", "2017-09-12T00:00:00", "2017-09-13T00:00:00", "2017-09-14T00:00:00", "2017-09-15T00:00:00", "2017-09-16T00:00:00", "2017-09-17T00:00:00", "2017-09-18T00:00:00", "2017-09-19T00:00:00", "2017-09-20T00:00:00", "2017-09-21T00:00:00", "2017-09-22T00:00:00", "2017-09-23T00:00:00", "2017-09-24T00:00:00", "2017-09-25T00:00:00", "2017-09-26T00:00:00", "2017-09-27T00:00:00", "2017-09-28T00:00:00", "2017-09-29T00:00:00", "2017-09-30T00:00:00", "2017-10-01T00:00:00", "2017-10-02T00:00:00", "2017-10-03T00:00:00", "2017-10-04T00:00:00", "2017-10-05T00:00:00", "2017-10-06T00:00:00", "2017-10-07T00:00:00", "2017-10-08T00:00:00", "2017-10-09T00:00:00", "2017-10-10T00:00:00", "2017-10-11T00:00:00", "2017-10-12T00:00:00", "2017-10-13T00:00:00", "2017-10-14T00:00:00", "2017-10-15T00:00:00", "2017-10-16T00:00:00", "2017-10-17T00:00:00", "2017-10-18T00:00:00", "2017-10-19T00:00:00", "2017-10-20T00:00:00", "2017-10-21T00:00:00", "2017-10-22T00:00:00", "2017-10-23T00:00:00", "2017-10-24T00:00:00", "2017-10-25T00:00:00", "2017-10-26T00:00:00", "2017-10-27T00:00:00", "2017-10-28T00:00:00", "2017-10-29T00:00:00", "2017-10-30T00:00:00", "2017-10-31T00:00:00", "2017-11-01T00:00:00", "2017-11-02T00:00:00", "2017-11-03T00:00:00", "2017-11-04T00:00:00", "2017-11-05T00:00:00", "2017-11-06T00:00:00", "2017-11-07T00:00:00", "2017-11-08T00:00:00", "2017-11-09T00:00:00", "2017-11-10T00:00:00", "2017-11-11T00:00:00", "2017-11-12T00:00:00", "2017-11-13T00:00:00", "2017-11-14T00:00:00", "2017-11-15T00:00:00", "2017-11-16T00:00:00", "2017-11-17T00:00:00", "2017-11-18T00:00:00", "2017-11-19T00:00:00", "2017-11-20T00:00:00", "2017-11-21T00:00:00", "2017-11-22T00:00:00", "2017-11-23T00:00:00", "2017-11-24T00:00:00", "2017-11-25T00:00:00", "2017-11-26T00:00:00", "2017-11-27T00:00:00", "2017-11-28T00:00:00", "2017-11-29T00:00:00", "2017-11-30T00:00:00", "2017-12-01T00:00:00", "2017-12-02T00:00:00", "2017-12-03T00:00:00", "2017-12-04T00:00:00", "2017-12-05T00:00:00", "2017-12-06T00:00:00", "2017-12-07T00:00:00", "2017-12-08T00:00:00", "2017-12-09T00:00:00", "2017-12-10T00:00:00", "2017-12-11T00:00:00", "2017-12-12T00:00:00", "2017-12-13T00:00:00", "2017-12-14T00:00:00", "2017-12-15T00:00:00", "2017-12-16T00:00:00", "2017-12-17T00:00:00", "2017-12-18T00:00:00", "2017-12-19T00:00:00", "2017-12-20T00:00:00", "2017-12-21T00:00:00", "2017-12-22T00:00:00", "2017-12-23T00:00:00", "2017-12-24T00:00:00", "2017-12-25T00:00:00", "2017-12-26T00:00:00", "2017-12-27T00:00:00", "2017-12-28T00:00:00", "2017-12-29T00:00:00", "2017-12-30T00:00:00", "2017-12-31T00:00:00", "2018-01-01T00:00:00", "2018-01-02T00:00:00", "2018-01-03T00:00:00", "2018-01-04T00:00:00", "2018-01-05T00:00:00", "2018-01-06T00:00:00", "2018-01-07T00:00:00", "2018-01-08T00:00:00", "2018-01-09T00:00:00", "2018-01-10T00:00:00", "2018-01-11T00:00:00", "2018-01-12T00:00:00", "2018-01-13T00:00:00", "2018-01-14T00:00:00", "2018-01-15T00:00:00", "2018-01-16T00:00:00", "2018-01-17T00:00:00", "2018-01-18T00:00:00", "2018-01-19T00:00:00", "2018-01-20T00:00:00", "2018-01-21T00:00:00", "2018-01-22T00:00:00", "2018-01-23T00:00:00", "2018-01-24T00:00:00", "2018-01-25T00:00:00", "2018-01-26T00:00:00", "2018-01-27T00:00:00", "2018-01-28T00:00:00", "2018-01-29T00:00:00", "2018-01-30T00:00:00", "2018-01-31T00:00:00", "2018-02-01T00:00:00", "2018-02-02T00:00:00", "2018-02-03T00:00:00", "2018-02-04T00:00:00", "2018-02-05T00:00:00", "2018-02-06T00:00:00", "2018-02-07T00:00:00", "2018-02-08T00:00:00", "2018-02-09T00:00:00", "2018-02-10T00:00:00", "2018-02-11T00:00:00", "2018-02-12T00:00:00", "2018-02-13T00:00:00", "2018-02-14T00:00:00", "2018-02-15T00:00:00", "2018-02-16T00:00:00", "2018-02-17T00:00:00", "2018-02-18T00:00:00", "2018-02-19T00:00:00", "2018-02-20T00:00:00", "2018-02-21T00:00:00", "2018-02-22T00:00:00", "2018-02-23T00:00:00", "2018-02-24T00:00:00", "2018-02-25T00:00:00", "2018-02-26T00:00:00", "2018-02-27T00:00:00", "2018-02-28T00:00:00", "2018-03-01T00:00:00", "2018-03-02T00:00:00", "2018-03-03T00:00:00", "2018-03-04T00:00:00", "2018-03-05T00:00:00", "2018-03-06T00:00:00", "2018-03-07T00:00:00", "2018-03-08T00:00:00", "2018-03-09T00:00:00", "2018-03-10T00:00:00", "2018-03-11T00:00:00", "2018-03-12T00:00:00", "2018-03-13T00:00:00", "2018-03-14T00:00:00", "2018-03-15T00:00:00", "2018-03-16T00:00:00", "2018-03-17T00:00:00", "2018-03-18T00:00:00", "2018-03-19T00:00:00", "2018-03-20T00:00:00", "2018-03-21T00:00:00", "2018-03-22T00:00:00", "2018-03-23T00:00:00", "2018-03-24T00:00:00", "2018-03-25T00:00:00", "2018-03-26T00:00:00", "2018-03-27T00:00:00", "2018-03-28T00:00:00", "2018-03-29T00:00:00", "2018-03-30T00:00:00", "2018-03-31T00:00:00", "2018-04-01T00:00:00", "2018-04-02T00:00:00", "2018-04-03T00:00:00", "2018-04-04T00:00:00", "2018-04-05T00:00:00", "2018-04-06T00:00:00", "2018-04-07T00:00:00", "2018-04-08T00:00:00", "2018-04-09T00:00:00", "2018-04-10T00:00:00", "2018-04-11T00:00:00", "2018-04-12T00:00:00", "2018-04-13T00:00:00", "2018-04-14T00:00:00", "2018-04-15T00:00:00", "2018-04-16T00:00:00", "2018-04-17T00:00:00", "2018-04-18T00:00:00", "2018-04-19T00:00:00", "2018-04-20T00:00:00", "2018-04-21T00:00:00", "2018-04-22T00:00:00", "2018-04-23T00:00:00", "2018-04-24T00:00:00", "2018-04-25T00:00:00", "2018-04-26T00:00:00", "2018-04-27T00:00:00", "2018-04-28T00:00:00", "2018-04-29T00:00:00", "2018-04-30T00:00:00", "2018-05-01T00:00:00", "2018-05-02T00:00:00", "2018-05-03T00:00:00", "2018-05-04T00:00:00", "2018-05-05T00:00:00", "2018-05-06T00:00:00", "2018-05-07T00:00:00", "2018-05-08T00:00:00", "2018-05-09T00:00:00", "2018-05-10T00:00:00", "2018-05-11T00:00:00", "2018-05-12T00:00:00", "2018-05-13T00:00:00", "2018-05-14T00:00:00", "2018-05-15T00:00:00", "2018-05-16T00:00:00", "2018-05-17T00:00:00", "2018-05-18T00:00:00", "2018-05-19T00:00:00", "2018-05-20T00:00:00", "2018-05-21T00:00:00", "2018-05-22T00:00:00", "2018-05-23T00:00:00", "2018-05-24T00:00:00", "2018-05-25T00:00:00", "2018-05-26T00:00:00", "2018-05-27T00:00:00", "2018-05-28T00:00:00", "2018-05-29T00:00:00", "2018-05-30T00:00:00", "2018-05-31T00:00:00", "2018-06-01T00:00:00", "2018-06-02T00:00:00", "2018-06-03T00:00:00", "2018-06-04T00:00:00", "2018-06-05T00:00:00", "2018-06-06T00:00:00", "2018-06-07T00:00:00", "2018-06-08T00:00:00", "2018-06-09T00:00:00", "2018-06-10T00:00:00", "2018-06-11T00:00:00", "2018-06-12T00:00:00", "2018-06-13T00:00:00", "2018-06-14T00:00:00", "2018-06-15T00:00:00", "2018-06-16T00:00:00", "2018-06-17T00:00:00", "2018-06-18T00:00:00", "2018-06-19T00:00:00", "2018-06-20T00:00:00", "2018-06-21T00:00:00", "2018-06-22T00:00:00", "2018-06-23T00:00:00", "2018-06-24T00:00:00", "2018-06-25T00:00:00", "2018-06-26T00:00:00", "2018-06-27T00:00:00", "2018-06-28T00:00:00", "2018-06-29T00:00:00", "2018-06-30T00:00:00", "2018-07-01T00:00:00", "2018-07-02T00:00:00", "2018-07-03T00:00:00", "2018-07-04T00:00:00", "2018-07-05T00:00:00", "2018-07-06T00:00:00", "2018-07-07T00:00:00", "2018-07-08T00:00:00", "2018-07-09T00:00:00", "2018-07-10T00:00:00", "2018-07-11T00:00:00", "2018-07-12T00:00:00", "2018-07-13T00:00:00", "2018-07-14T00:00:00", "2018-07-15T00:00:00", "2018-07-16T00:00:00", "2018-07-17T00:00:00", "2018-07-18T00:00:00", "2018-07-19T00:00:00", "2018-07-20T00:00:00", "2018-07-21T00:00:00", "2018-07-22T00:00:00", "2018-07-23T00:00:00", "2018-07-24T00:00:00", "2018-07-25T00:00:00", "2018-07-26T00:00:00", "2018-07-27T00:00:00", "2018-07-28T00:00:00", "2018-07-29T00:00:00", "2018-07-30T00:00:00", "2018-07-31T00:00:00", "2018-08-01T00:00:00", "2018-08-02T00:00:00", "2018-08-03T00:00:00", "2018-08-04T00:00:00", "2018-08-05T00:00:00", "2018-08-06T00:00:00", "2018-08-07T00:00:00", "2018-08-08T00:00:00", "2018-08-09T00:00:00", "2018-08-10T00:00:00"], 
		"demand": [559, 1407, 1727, 930, 642, 1135, 527, 1084, 1132, 1687, 978, 695, 769, 748, 1007, 1187, 1667, 1407, 774, 622, 492, 940, 1083, 1720, 918, 1069, 780, 1282, 918, 1511, 1927, 1053, 806, 947, 1067, 1133, 1402, 2009, 704, 621, 911, 1098, 1157, 1379, 1702, 1101, 632, 662, 1199, 873, 1291, 1859, 984, 470, 1052, 1012, 1191, 1222, 1804, 723, 356, 825, 1104, 1009, 1150, 2004, 1124, 478, 1098, 936, 729, 924, 1877, 1235, 614, 882, 847, 1234, 1197, 1872, 287, 1236, 860, 1271, 1300, 1196, 1969, 1224, 815, 1078, 1067, 195, 1240, 1851, 1131, 648, 893, 1120, 1281, 1553, 2028, 1172, 806, 882, 1063, 1171, 1159, 1974, 954, 692, 988, 1386, 1416, 1492, 1947, 815, 716, 991, 1035, 963, 1206, 1822, 989, 785, 995, 807, 984, 1106, 1717, 958, 729, 817, 1049, 920, 844, 1361, 1092, 428, 786, 1041, 1070, 1196, 1625, 1506, 596, 999, 1566, 1217, 1468, 1080, 1662, 899, 1077, 996, 1027, 520, 1104, 1093, 983, 1337, 1001, 1051, 1263, 1779, 1103, 929, 1029, 809, 1111, 1483, 1612, 1123, 947, 1180, 1131, 1092, 1136, 1844, 649, 1119, 1169, 883, 1181, 1362, 2114, 1175, 1033, 1166, 1078, 724, 568, 2415, 1020, 1027, 1382, 798, 1664, 1848, 1527, 1343, 1067, 1042, 1368, 1434, 1317, 2212, 1056, 809, 1606, 1386, 1640, 1318, 1272, 1184, 1097, 514, 678, 958, 1363, 1806, 901, 1123, 1636, 947, 1246, 930, 1703, 954, 803, 1183, 1056, 1142, 1254, 2223, 1293, 786, 852, 1080, 1565, 1180, 1916, 1214, 668, 942, 988, 1315, 1390, 1922, 1383, 767, 1115, 648, 1126, 1408, 2216, 1419, 940, 1012, 1365, 1190, 1496, 2452, 1093, 724, 1548, 1420, 1930, 1279, 559, 1207, 854, 652, 1110, 1519, 1119, 1831, 840, 992, 773, 1026, 1207, 1174, 1451, 1460, 813, 1073, 883, 1146, 1290, 2091, 1481, 870, 1064, 1447, 1092, 1166, 2229, 1116, 1086, 1222, 983, 1161, 1659, 2146, 1329, 991, 1275, 1363, 1462, 1797, 1100, 1477, 951, 814, 1077, 1251, 1164, 1571, 1076, 762, 1201, 920, 1190, 1302, 1972, 1873, 1002, 1168, 895, 1153, 1553, 2729, 1644, 1092, 1628, 1013, 1481, 1622, 2128, 1844, 1418, 1966, 1422, 1291, 1476, 2158, 1791, 1355, 2778, 1233, 1419, 1738, 1889, 1917, 1323, 1530, 1256, 1487, 1439, 1852, 1800, 1353, 1900, 1293, 1209, 1318, 2146, 1504, 1238, 1569, 1360, 1405, 1621, 2140, 1679, 1486, 1142, 1329, 1261, 1319, 1890, 1834, 1758, 1458, 1174, 1265, 1542, 2186, 1397, 1626, 1130, 1284, 1020, 1170, 1761, 1290, 1301, 1291, 1425, 1330, 1620, 2207, 1246, 1192, 1131, 838, 1462, 1483, 2028, 1202, 1004, 1323, 1190, 1432, 1646, 1865, 1669, 995, 1368, 1037, 1212, 1274, 2216, 1204, 1298, 1302, 1792, 1376, 1527, 1807, 1419, 1226, 1380, 1316, 1255, 1429, 2280, 1384, 1052, 1281, 1237, 1508, 1551, 1913],
		"cost": 1.0, 
		"sale_price": 5.0, 
		"shelf_life_seconds": 172800.0, 
		"opt_param": "revenue",
		"forecast_periods_ahead":7,
		"delivery_dayofweek": [0,1,2,3,4,5,6],
		"n_training_periods": 100,
		"n_forecasts_simulated": 20,
	}
<!-- 
		"public_holiday_country": "HK",
		"event_datetime": ["2017-06-13T00:00:00", "2017-06-18T00:00:00","2017-06-20T00:00:00","2017-07-23T00:00:00","2017-08-12T00:00:00","2017-08-13T00:00:00","2017-08-23T00:00:00","2017-10-08T00:00:00","2017-10-17T00:00:00","2017-10-21T00:00:00","2017-10-26T00:00:00","2017-11-18T00:00:00","2017-11-30T00:00:00","2017-12-06T00:00:00","2017-12-07T00:00:00","2018-02-14T00:00:00","2018-04-30T00:00:00","2018-05-07T00:00:00","2018-06-10T00:00:00","2018-06-17T00:00:00"],
		"event_name": ["Low","High","High","Low","Low","High","Low","Low","High","High","Low","Low","Low","High","High","High","High","High","High","High"]
 -->

	

### Example Response

	{
		"status":"success",
		"timestamp_start":["2017-09-01","2017-09-02","2017-09-03","2017-09-04","2017-09-05","2017-09-06","2017-09-07","2017-09-08","2017-09-09","2017-09-10","2017-09-11","2017-09-12","2017-09-13","2017-09-14","2017-09-15","2017-09-16","2017-09-17","2017-09-18","2017-09-19","2017-09-20","2017-09-21","2017-09-22","2017-09-23","2017-09-24","2017-09-25","2017-09-26","2017-09-27","2017-09-28","2017-09-29","2017-09-30","2017-10-01","2017-10-02","2017-10-03","2017-10-04","2017-10-05","2017-10-06","2017-10-07","2017-10-08","2017-10-09","2017-10-10","2017-10-11","2017-10-12","2017-10-13","2017-10-14","2017-10-15","2017-10-16","2017-10-17","2017-10-18","2017-10-19","2017-10-20","2017-10-21","2017-10-22","2017-10-23","2017-10-24","2017-10-25","2017-10-26","2017-10-27","2017-10-28","2017-10-29","2017-10-30","2017-10-31","2017-11-01","2017-11-02","2017-11-03","2017-11-04","2017-11-05","2017-11-06","2017-11-07","2017-11-08","2017-11-09","2017-11-10","2017-11-11","2017-11-12","2017-11-13","2017-11-14","2017-11-15","2017-11-16","2017-11-17","2017-11-18","2017-11-19","2017-11-20","2017-11-21","2017-11-22","2017-11-23","2017-11-24","2017-11-25","2017-11-26","2017-11-27","2017-11-28","2017-11-29","2017-11-30","2017-12-01","2017-12-02","2017-12-03","2017-12-04","2017-12-05","2017-12-06","2017-12-07","2017-12-08","2017-12-09","2017-12-10","2017-12-11","2017-12-12","2017-12-13","2017-12-14","2017-12-15","2017-12-16","2017-12-17","2017-12-18","2017-12-19","2017-12-20","2017-12-21","2017-12-22","2017-12-23","2017-12-24","2017-12-25","2017-12-26","2017-12-27","2017-12-28","2017-12-29","2017-12-30","2017-12-31","2018-01-01","2018-01-02","2018-01-03","2018-01-04","2018-01-05","2018-01-06","2018-01-07","2018-01-08","2018-01-09","2018-01-10","2018-01-11","2018-01-12","2018-01-13","2018-01-14","2018-01-15","2018-01-16","2018-01-17","2018-01-18"],
		"timestamp_end":["2017-09-01 23:59:59","2017-09-02 23:59:59","2017-09-03 23:59:59","2017-09-04 23:59:59","2017-09-05 23:59:59","2017-09-06 23:59:59","2017-09-07 23:59:59","2017-09-08 23:59:59","2017-09-09 23:59:59","2017-09-10 23:59:59","2017-09-11 23:59:59","2017-09-12 23:59:59","2017-09-13 23:59:59","2017-09-14 23:59:59","2017-09-15 23:59:59","2017-09-16 23:59:59","2017-09-17 23:59:59","2017-09-18 23:59:59","2017-09-19 23:59:59","2017-09-20 23:59:59","2017-09-21 23:59:59","2017-09-22 23:59:59","2017-09-23 23:59:59","2017-09-24 23:59:59","2017-09-25 23:59:59","2017-09-26 23:59:59","2017-09-27 23:59:59","2017-09-28 23:59:59","2017-09-29 23:59:59","2017-09-30 23:59:59","2017-10-01 23:59:59","2017-10-02 23:59:59","2017-10-03 23:59:59","2017-10-04 23:59:59","2017-10-05 23:59:59","2017-10-06 23:59:59","2017-10-07 23:59:59","2017-10-08 23:59:59","2017-10-09 23:59:59","2017-10-10 23:59:59","2017-10-11 23:59:59","2017-10-12 23:59:59","2017-10-13 23:59:59","2017-10-14 23:59:59","2017-10-15 23:59:59","2017-10-16 23:59:59","2017-10-17 23:59:59","2017-10-18 23:59:59","2017-10-19 23:59:59","2017-10-20 23:59:59","2017-10-21 23:59:59","2017-10-22 23:59:59","2017-10-23 23:59:59","2017-10-24 23:59:59","2017-10-25 23:59:59","2017-10-26 23:59:59","2017-10-27 23:59:59","2017-10-28 23:59:59","2017-10-29 23:59:59","2017-10-30 23:59:59","2017-10-31 23:59:59","2017-11-01 23:59:59","2017-11-02 23:59:59","2017-11-03 23:59:59","2017-11-04 23:59:59","2017-11-05 23:59:59","2017-11-06 23:59:59","2017-11-07 23:59:59","2017-11-08 23:59:59","2017-11-09 23:59:59","2017-11-10 23:59:59","2017-11-11 23:59:59","2017-11-12 23:59:59","2017-11-13 23:59:59","2017-11-14 23:59:59","2017-11-15 23:59:59","2017-11-16 23:59:59","2017-11-17 23:59:59","2017-11-18 23:59:59","2017-11-19 23:59:59","2017-11-20 23:59:59","2017-11-21 23:59:59","2017-11-22 23:59:59","2017-11-23 23:59:59","2017-11-24 23:59:59","2017-11-25 23:59:59","2017-11-26 23:59:59","2017-11-27 23:59:59","2017-11-28 23:59:59","2017-11-29 23:59:59","2017-11-30 23:59:59","2017-12-01 23:59:59","2017-12-02 23:59:59","2017-12-03 23:59:59","2017-12-04 23:59:59","2017-12-05 23:59:59","2017-12-06 23:59:59","2017-12-07 23:59:59","2017-12-08 23:59:59","2017-12-09 23:59:59","2017-12-10 23:59:59","2017-12-11 23:59:59","2017-12-12 23:59:59","2017-12-13 23:59:59","2017-12-14 23:59:59","2017-12-15 23:59:59","2017-12-16 23:59:59","2017-12-17 23:59:59","2017-12-18 23:59:59","2017-12-19 23:59:59","2017-12-20 23:59:59","2017-12-21 23:59:59","2017-12-22 23:59:59","2017-12-23 23:59:59","2017-12-24 23:59:59","2017-12-25 23:59:59","2017-12-26 23:59:59","2017-12-27 23:59:59","2017-12-28 23:59:59","2017-12-29 23:59:59","2017-12-30 23:59:59","2017-12-31 23:59:59","2018-01-01 23:59:59","2018-01-02 23:59:59","2018-01-03 23:59:59","2018-01-04 23:59:59","2018-01-05 23:59:59","2018-01-06 23:59:59","2018-01-07 23:59:59","2018-01-08 23:59:59","2018-01-09 23:59:59","2018-01-10 23:59:59","2018-01-11 23:59:59","2018-01-12 23:59:59","2018-01-13 23:59:59","2018-01-14 23:59:59","2018-01-15 23:59:59","2018-01-16 23:59:59","2018-01-17 23:59:59","2018-01-18 23:59:59"],
		"simulated_demand_units_constrained":[2028,1172,806,882,1063,1171,1159,1974,954,692,988,1386,1416,1492,1947,815,716,991,1035,963,1206,1822,989,785,995,807,984,1106,1717,958,729,817,1049,920,844,1361,1092,428,786,1041,1070,1196,1625,1506,596,999,1566,1217,1468,1080,1662,899,1077,996,1027,520,1104,1093,983,1337,1001,1051,1263,1779,1103,929,1029,809,1111,1483,1612,1123,947,1180,1131,1092,1136,1844,649,1119,1169,883,1181,1362,2114,1175,1033,1166,1078,724,568,2415,1020,1027,1382,798,1664,1848,1527,1343,1067,1042,1368,1434,1317,2104,1056,809,1297,1147,1179,1318,1272,1184,1097,514,678,958,1363,1806,901,1123,1636,947,1246,930,1703,954,803,1183,1056,1142,1254,2223,1293,786,852,1080,1565,1180],
		"actual_demand_units_unconstrained":[2028,1172,806,882,1063,1171,1159,1974,954,692,988,1386,1416,1492,1947,815,716,991,1035,963,1206,1822,989,785,995,807,984,1106,1717,958,729,817,1049,920,844,1361,1092,428,786,1041,1070,1196,1625,1506,596,999,1566,1217,1468,1080,1662,899,1077,996,1027,520,1104,1093,983,1337,1001,1051,1263,1779,1103,929,1029,809,1111,1483,1612,1123,947,1180,1131,1092,1136,1844,649,1119,1169,883,1181,1362,2114,1175,1033,1166,1078,724,568,2415,1020,1027,1382,798,1664,1848,1527,1343,1067,1042,1368,1434,1317,2212,1056,809,1606,1386,1640,1318,1272,1184,1097,514,678,958,1363,1806,901,1123,1636,947,1246,930,1703,954,803,1183,1056,1142,1254,2223,1293,786,852,1080,1565,1180],
		"simulation_revenue":819210.0,
		"simulation_cost":169217.0,
		"simulation_profit":649993.0,
		"number_of_periods_simulated":20,
		"fraction_of_original_revenue_generated":0.9932286204450803,
		"profit_change":31396.75,
		"revenue_change":-5585.0,
		"cost_change":-36981.75,
		"cost_change_relative":-0.17935002030807656,
		"profit_change_relative":0.05075483402946591,
		"simulation_first_datetime":"2017-09-01",
		"simulation_last_datetime":"2018-01-18",
		"historical_fraction_of_delivered_units_wasted":0.2,
		"historical_demand_units_total":164959,
		"historical_delivered_units_total":206199,
		"historical_wasted_units_total":41240,
		"simulation_satisfied_units_total":163842,
		"simulation_delivered_units_total":169217,
		"simulation_unmet_units_total":1117,
		"simulation_wasted_units_total":4716,
		"historical_revenue":824795.0,
		"historical_cost":206198.75,
		"historical_profit":618596.25
	}




#### Summary

The response contains some key assumptions and run parameters, to assist in the presentation of results:

* `start_timestamp` - The first timestamp simulated (`2017-09-01`)
* `end_timestamp` - The last timestamp simulated (`2018-01-18`)
* `number_of_periods_simulated` - Number of periods simulated (`140`)
* `historical_wasted_units_total` - Number of units that had actually been wasted, over this historical time period (calculated as `41240`, based on the request's inputs)

From the output, we can conclude that:

* Over the backcast period of `140 days` (`2017-09-01` to `2018-01-18`), the user could have increased their profit by **$23,954.75** (`profit_change`), driven by satisfying **99.3%** of the demand (`fraction_of_original_revenue_generated`) and reducing the amount of units delivered by **17.9%** (`cost_change_relative`).
* This assumes the user would have wasted `41,240` units in that period had this service not been in place, equivalent of 20% of delivered stock being wasted.

#### Historical

This can be broken down by understanding **what happened historically, when the service not been in-place:**

* `historical_demand_units_total`: `164,959` units
* `historical_delivered_units_total`: `206,199` units (representing 20% of delivered units wasted)
* `historical_wasted_units_total`: `41,240` units

For financials, we start with understanding the revenue, cost and profit over the period (`2017-09-01` to `2018-01-18`), **had the service not been in-place**:

* `historical_revenue`: `$824,795` - this is how much revenue was generated through sales of the item
* `historical_cost`:`$206,199` - this is how much it the delivered items cost
* `historical_profit`: `$618,596` - this is profit from buying stock and selling them item, calculated as `historical_revenue` minus `historical_cost`

#### Simulation

In the simulation, we model what would have happened **IF the service was in place**.  

The system would have optimised the **delivery quantities**, with an impact on the key metrics of:

* **`simulation_satisfied_units_total`: `163,842`** units would have been satisfied
* **`simulation_delivered_units_total`:  `169,217`** units would have been delivered
* **`simulation_unmet_units_total`: `1,117`** units of demand would have been unmet
* **`simulation_wasted_units_total`: `4,716`** units would have been wasted

From this, we can also quickly look at the financial metrics,over the simulation period:

* **`simulation_revenue`: `$819,210`** - this is how much revenue **would have been** generated through sales of the item
* **`simulation_cost`: `$169,217`** - this is how much it **would have cost** to deliver the items, according the the service's suggestions
* **`simulation_profit`: `$649,993`** - Number of units delivered at this timestamp


It's then a trivial calculation of the relative changes to each of these core financial metrics, in both absolute and relative terms:

* **`fraction_of_original_revenue_generated`: `0.9932`**

	The proportion of the historical revenue that the system was able to capture.  Higher is better - the maximum is 1.00.  Defined as `simulation_revenue / historical_revenue`

* **`profit_change`: `$31397`**

	The difference in the profit generated between the historical and the simulation.  Defined as `simulation_profit` minus `historical_profit`

* **`revenue_change`: `-$5585`**

	The difference in the revenue generated between the historical and the simulation.  Higher is better.  Defined as `simulation_revenue` minus `historical_revenue`
	
* **`cost_change`: `-$36982`**

	The difference in the revenue generated between the historical and the simulation.  The more negative, the better.  Defined as `simulation_cost` minus `historical_cost`
	
* **`profit_change_relative`: `0.05075`** 

	The relative change in cost between the historical and the simulation. The more positive, the better. Defined as `(simulation_profit - historical_profit) / historical_profit`
	
* **`cost_change_relative`: `-0.17935`**

	The relative change in cost between the historical and the simulation. The more negative, the better. Defined as `(simulation_cost - historical_cost) / historical_cost`

#### Time Series Deep Dive

For those who want to delve further, the precise time series for the simulation period can be found in:

* `timestamp_start` - This is the timestamp associated with the beginning of the forecast period - for a daily forecast, this is 00:00:00 of each day!
* `timestamp_end` - This is the timestamp associated with the beginning of the forecast period - for a daily forecast, this is 23:59:59 of each day!
* `historical_demand_units_timeseries` - time series of the number of units demanded at each time period
* `simulation_satisfied_units_timeseries` - time series of the number of units satisfied at each time period, had the service been in place
* `simulation_delivered_units_timeseries` - time series of the number of units delivered at each time period, had the service been in place
* `simulation_unmet_units_timeseries` - time series of the number of demanded units that were unmet at each time period, had the service been in place
* `simulation_wasted_units_timeseries` - time series of the number of units wasted at each time period, had the service been in place

#### Visualizing Results

The [Backcasting Example](https://nbviewer.jupyter.org/github/alvin-chan/bdt_django_front_end_postgres_mkdocs/blob/master/code_examples/backcast_example_1.ipynb?flush_cache=true) jupyter notebook provides a worked example for displaying this data using python
